<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="Memory Profiler 模块 - Unity 手册">
<title>Memory Profiler 模块 - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2021.3/uploads/Main/profiler-memory-simple-view.png">
<meta name="description" content="有两种方法可以在 Unity 中分析应用程序的内存使用情况：">
<meta property="og:description" content="有两种方法可以在 Unity 中分析应用程序的内存使用情况：">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'ProfilerMemory';
      if(!page) page = 'index';
      var version = '2021.3';
      var docs_versions = [{version: '2022.1',version_string: '2022.1',supported: true},{version: '2021.3',version_string: '2021.3',supported: true},{version: '2021.2',version_string: '2021.2',supported: false},{version: '2021.1',version_string: '2021.1',supported: false},{version: '2020.3',version_string: '2020.3',supported: true},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: false},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2021.3/Manual/ProfilerMemory.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2021.3/Manual/ProfilerMemory.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2021.3/Manual/ProfilerMemory.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2021.3/Manual/ProfilerMemory.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2021.3/Manual/ProfilerMemory.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2021.3/Manual/ProfilerMemory.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2021.3/Manual/ProfilerMemory.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2021.3/Documentation/Manual/ProfilerMemory.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2021.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/ProfilerMemory.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/ProfilerMemory.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/ProfilerMemory.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/ProfilerMemory.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/ProfilerMemory.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/ProfilerMemory.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/ProfilerMemory.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/ProfilerMemory.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/ProfilerMemory.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/ProfilerMemory.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/ProfilerMemory.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/ProfilerMemory.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/ProfilerMemory.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/ProfilerMemory.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/ProfilerMemory.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/ProfilerMemory.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/ProfilerMemory.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/ProfilerMemory.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/ProfilerMemory.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/ProfilerMemory.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2021.3/Documentation/Manual/ProfilerMemory.html">English</a></li>
<li><a data-lang="cn" href="/cn/2021.3/Manual/ProfilerMemory.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2021.3/Manual/ProfilerMemory.html">日本語</a></li>
<li><a data-lang="es" href="/es/2021.3/Manual/ProfilerMemory.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2021.3/Manual/ProfilerMemory.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2021.3/Manual/ProfilerMemory.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2021.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/ProfilerMemory.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/ProfilerMemory.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/ProfilerMemory.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/ProfilerMemory.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/ProfilerMemory.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/ProfilerMemory.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/ProfilerMemory.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/ProfilerMemory.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/ProfilerMemory.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/ProfilerMemory.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/ProfilerMemory.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/ProfilerMemory.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/ProfilerMemory.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/ProfilerMemory.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/ProfilerMemory.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/ProfilerMemory.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/ProfilerMemory.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/ProfilerMemory.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/ProfilerMemory.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/ProfilerMemory.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual 2021.3 (LTS)</a></li>
<li><a href="UnityOverview.html">在 Unity 中操作</a></li>
<li><a href="analysis.html">分析</a></li>
<li><a href="Profiler.html">性能分析器概述</a></li>
<li><a href="ProfilerWindow.html">Profiler 窗口</a></li>
<li>Memory Profiler 模块</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="ProfilerGPU.html"></a></span><div class="tip">GPU Usage Profiler 模块</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="ProfilerPhysics.html"></a></span><div class="tip">Physics Profiler 模块</div>
</div>
</div></div>
<h1>Memory Profiler 模块</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>有两种方法可以在 Unity 中分析应用程序的内存使用情况：</p>

<ul>
<li>
<strong>Memory</strong> <strong>Profiler</strong> <strong>module</strong>: A built-in Profiler module that gives you basic information on where your application uses memory.</li>
<li>
<strong>Memory Profiler package</strong>: A Unity package that you can add to your project. It adds an additional Memory Profiler window to the Unity Editor, which you can then use to analyze memory usage in your application in even more detail. You can store and compare snapshots to find memory leaks, or see the memory layout to find memory fragmentation issues.</li>
</ul>

<p>本页涵盖有关内置 Memory Profiler 模块的信息。有关 Memory Profiler 包的更多信息，请参阅 <a href="https://docs.unity3d.com/Packages/com.unity.memoryprofiler@latest">Memory Profiler 文档</a>。</p>

<p>The Memory Profiler module visualizes counters that represent the total allocated memory in your application. You can use the memory module to see information like the number of loaded objects, and the memory that they take in total per category. You can also see the number of <a href="performance-garbage-collector.html">GC allocations</a> per Profiler frame.</p>

<h2>Memory profiling in the Editor</h2>

<p>When you profile your application in the Editor, rather than building and profiling your application on a target device, the profiling data in the Memory Profiler module is larger than when you run your application on its release platform. This is because the Unity Editor uses specific objects that take up memory, and the Editor window itself uses extra memory.</p>

<p>Also, because Unity can’t cleanly separate the memory that the Profiler itself takes up from the Play mode’s memory, memory that the Profiler uses is displayed in the Profiler window. To remind you of this, a warning displays at the top of the Memory Profiler module details pane whenever you have the Profiler target set to <strong>Play Mode</strong> or <strong>Editor</strong>. For more precise numbers and memory usage for your application, you should profile your application on the target device and operating system you intend it to run on. For more information, see the documentation on <a href="profiler-profiling-applications.html">Profiling your application</a>. </p>

<h2>图表类别</h2>

<p>The Memory Profiler module is divided into categories that display detailed information on where your application spends memory. You can also click a category’s colored legend to toggle its display.</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>类别</strong></th>
	<th style="text-align:left;"><strong>描述</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>Total Allocated</strong></td>
	<td style="text-align:left;">应用程序已使用的内存总量。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Texture Memory</strong></td>
	<td style="text-align:left;">应用程序中的<a href="class-TextureImporter.html">纹理</a>已使用的内存量。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Mesh Memory</strong></td>
	<td style="text-align:left;">应用程序中的<a href="class-Mesh.html">网格</a>已使用的内存量。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Material Count</strong></td>
	<td style="text-align:left;">应用程序中的<a href="Materials.html">材质</a>实例数量。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Object Count</strong></td>
	<td style="text-align:left;">应用程序中的原生对象实例数量。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>GC Used Memory</strong></td>
	<td style="text-align:left;">The amount of memory the <a href="performance-managed-memory.html#managed-heap">GC heap</a> has used.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>GC Allocated in Frame</strong></td>
	<td style="text-align:left;">GC 堆中每帧分配的内存量。</td>
</tr>
</tbody>
</table>

<h2>模块详细信息面板</h2>

<p>There are two views available in the module details pane, located at the bottom of the Profiler window: </p>

<ul>
<li>
<strong>Simple:</strong> Displays a high level overview of the memory statistics per frame</li>
<li>
<strong>Detailed:</strong> Captures a memory snapshot which contains more details on the memory that native objects used, including native references to them, and Unity’s different subsystems.</li>
</ul>

<p>To change the view, select it from the dropdown in the top left of the module details pane.</p>

<h3>Simple 视图</h3>

<p>The Simple view displays an overview of how Unity uses memory in real-time on a per-frame basis. It breaks down the total memory that your application uses into a few major categories. The <strong>Total</strong> value is based on the System Used Memory Profiler counter, which indicates how much memory the operating system (OS) reports as being in use by your application.</p>

<figure>
<img src="../uploads/Main/profiler-memory-simple-view.png" alt="The Simple view with some Profiler data loaded">
<figcaption>The Simple view with some Profiler data loaded</figcaption>
</figure>

<p>Unity sets some memory pools aside for allocations to avoid asking the operating system for memory too often. The Profiler module displays how much memory Unity reserves, and how much memory Unity used at the time of the Profiler capture. </p>

<p>The Simple view displays the data collected within the <strong>System Used Memory</strong> <a href="https://docs.unity3d.com/Packages/com.unity.profiling.core@1.0/manual/profilercounter-guide.html">Profiler counter</a>. This indicates how much memory the operating system (OS) reports as being in use by the app and corresponds to the <strong>Total</strong> value of the <strong>Total Committed Memory</strong> bar and the <strong>Total Memory Breakdown</strong> bar. </p>

<p>On platforms that support getting the total memory size of the application from the operating system, the <strong>System Memory Usage</strong> is over 0 and is the same size in a task manager. </p>

<p>The following reference table describes the statistics available in the Simple view, plus its corresponding profiler counter, and availability in Release builds. This information is also available via the<a href="../ScriptReference/Unity.Profiling.ProfilerRecorder.html"> ProfilerRecorder API</a> and in the<a href="profiler-module-editor.html"> Profiler Module Editor</a> so you can add them to a custom Profiler module.</p>

<p><a name="markers"></a></p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>属性</strong></th>
	<th style="text-align:left;"><strong>描述</strong></th>
	<th style="text-align:left;"><strong>Corresponding Profiler counter</strong></th>
	<th style="text-align:left;"><strong>Available in Release Players?</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>Normalized</strong></td>
	<td style="text-align:left;">Enable this setting to scale the <strong>Total Committed Memory</strong> and <strong>Total Memory Breakdown</strong> charts to the memory usage of the selected frame. If you disable this setting, the charts scale to the total used memory within the frame range. This setting can help you see how the total or relative amounts of memory change from frame to frame</td>
	<td style="text-align:left;">无</td>
	<td style="text-align:left;">无</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Total Committed Memory</strong></td>
	<td style="text-align:left;">The length of the Total Committed Memory bar indicates the total amount of memory that Unity’s Memory Manager system tracked, how much of that it used, and how much memory isn’t tracked through this system.</td>
	<td style="text-align:left;">System Used Memory</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">Tracked Memory (in use / Reserved)</td>
	<td style="text-align:left;">Indicates the total amount of memory that Unity uses and tracks (<strong>in use</strong>), and the amount of memory that Unity reserves for tracking purposes and pool allocations (<strong>Reserved</strong>).</td>
	<td style="text-align:left;">Total Used Memory <br><br>Total Reserved Memory</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">Untracked Memory</td>
	<td style="text-align:left;">Indicates the total amount of memory that Unity used but isn’t aware of. Some examples of untracked memory are: <br><br>- Memory allocated through native plug-ins or some drivers <br>- Mono or IL2CPP type metadata <br>- Memory that executable code and DLLs use <br><br>The <a href="https://docs.unity3d.com/Packages/com.unity.memoryprofiler@latest">Memory Profiler package</a> and native platform providers might have more information on some of these untracked memory amounts.</td>
	<td style="text-align:left;">无</td>
	<td style="text-align:left;">无</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Total Memory Breakdown</strong></td>
	<td style="text-align:left;">Displays the same total amount as the <strong>Total Committed Memory</strong> bar but breaks it into some high level categories, based on which subsystems Unity allocated the memory for. <br><br>Not all memory systems use pools or differentiate between used and reserved memory. Those that do display two numbers, the used and the reserved amount of memory. If the used amount doesn’t share the same unit (B, MB, GB) as the reserved amount, Unity displays the unit, otherwise it’s omitted.</td>
	<td style="text-align:left;">System Used Memory</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">Managed Heap (in use / Reserved)</td>
	<td style="text-align:left;">The used heap size and total heap size that managed code uses. This memory is <a href="performance-garbage-collector.html">garbage collected</a>.</td>
	<td style="text-align:left;">GC Used Memory <br><br>GC Reserved Memory</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">Graphics &amp; Graphics Driver</td>
	<td style="text-align:left;">驱动程序对纹理、渲染目标、着色器和网格数据使用的估计内存量。</td>
	<td style="text-align:left;">Gfx Used Memory<br><br>Gfx Reserved Memory</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;">Audio</td>
	<td style="text-align:left;">音频系统的估计内存使用量。</td>
	<td style="text-align:left;">Audio Used Memory<br><br>Audio Reserved Memory</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">Video</td>
	<td style="text-align:left;">The Video system’s estimated memory usage.</td>
	<td style="text-align:left;">Video Used Memory<br><br>Video Reserved Memory</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">Other</td>
	<td style="text-align:left;">Displays native memory that Unity tracks, but isn’t reported under a specific counter. <br><br>To get more information on the makeup of this or the other categories, take a snapshot in the <a href="#detailed-view">Detailed view</a> or with the Memory Profiler package. <br><br><strong>Important:</strong> The Other category doesn’t directly map to the Other group in the <strong>Detailed</strong> view. In this view, <strong>Other</strong> contains the remainder of the native memory that was not used for the GPU side of graphics memory, the Profiler, Audio, or Video memory.</td>
	<td style="text-align:left;">无</td>
	<td style="text-align:left;">无</td>
</tr>
<tr>
	<td style="text-align:left;">Profiler</td>
	<td style="text-align:left;">The memory that the Profiler functionality uses and reserves from the system.</td>
	<td style="text-align:left;">Profiler Used Memory<br><br>Profiler Reserved Memory</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Objects stats</strong></td>
	<td style="text-align:left;">Displays the amount of object instances of the types of Assets that commonly take up a high percentage of the memory (Textures, Meshes, Materials, Animation Clips), together with their accumulated sizes in memory (Assets, GameObjects, Scene Objects). <br><br><strong>Note:</strong> Texture and Mesh memory doesn’t map directly to the <strong>Graphics &amp; Graphics</strong> Driver stat in the <strong>Total Memory Breakdown</strong> view. This is because some of that memory might also fall into the <strong>Other</strong> category of the Total Memory Breakdown bar.</td>
	<td style="text-align:left;">Object Count</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;">Textures</td>
	<td style="text-align:left;">已加载的纹理总数及其使用的内存。</td>
	<td style="text-align:left;">Texture Count<br><br>Texture Memory</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;">网格</td>
	<td style="text-align:left;">已加载的网格总数及其使用的内存。</td>
	<td style="text-align:left;">Mesh Count<br><br>Mesh Memory</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;">材质</td>
	<td style="text-align:left;">已加载的材质总数及其使用的内存。</td>
	<td style="text-align:left;">Material Count<br><br>Material Memory</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;">动画剪辑</td>
	<td style="text-align:left;">已加载的动画剪辑总数及其使用的内存。</td>
	<td style="text-align:left;">AnimationClip Count<br><br>AnimationClip Memory</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;">Assets</td>
	<td style="text-align:left;">已加载的资源总数。</td>
	<td style="text-align:left;">Asset Count</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;">Game Objects</td>
	<td style="text-align:left;">The total number of <a href="../ScriptReference/GameObject.html">GameObject</a> instances in the scene.</td>
	<td style="text-align:left;">GameObject Count</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;">Scene Objects</td>
	<td style="text-align:left;">The total number of dynamic <code>UnityEngine.Objects</code>. This number includes the GameObject Count, plus the total number of components, and everything which isn’t an asset in the scene.</td>
	<td style="text-align:left;">Scene Object Count</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;">GC allocated in frame</td>
	<td style="text-align:left;">Displays the amount of managed allocations in the selected frame, and their total size in bytes.</td>
	<td style="text-align:left;">GC Allocation In Frame Count<br><br>GC Allocated In Frame</td>
	<td style="text-align:left;">否</td>
</tr>
</tbody>
</table>

<h3>播放器中的可用性</h3>

<p>You can use the <a href="../ScriptReference/Unity.Profiling.ProfilerRecorder.html">ProfilerRecorder API</a> to access the Memory Profiler module’s counters in Players. The following example contains a simple script that collects <strong>Total Reserved Memory</strong>, <strong>GC Reserved Memory</strong> and <strong>System Used Memory</strong> metrics, and displays those as a <a href="../ScriptReference/GUI.TextAreaGUI.TextArea.html">GUI.TextArea</a>. The Memory Profiler module information belongs to the <a href="../ScriptReference/Unity.Profiling.ProfilerCategory.Memory.html">ProfilerCategory.Memory</a> Profiler category.</p>

<pre><code class="language-csharp">using System.Text;
using Unity.Profiling;
using UnityEngine;

public class MemoryStatsScript : MonoBehaviour
{
    string statsText;
    ProfilerRecorder totalReservedMemoryRecorder;
    ProfilerRecorder gcReservedMemoryRecorder;
    ProfilerRecorder systemUsedMemoryRecorder;

    void OnEnable()
    {
        totalReservedMemoryRecorder = ProfilerRecorder.StartNew(ProfilerCategory.Memory, "Total Reserved Memory");
        gcReservedMemoryRecorder = ProfilerRecorder.StartNew(ProfilerCategory.Memory, "GC Reserved Memory");
        systemUsedMemoryRecorder = ProfilerRecorder.StartNew(ProfilerCategory.Memory, "System Used Memory");
    }

    void OnDisable()
    {
        totalReservedMemoryRecorder.Dispose();
        gcReservedMemoryRecorder.Dispose();
        systemUsedMemoryRecorder.Dispose();
    }

    void Update()
    {
        var sb = new StringBuilder(500);
        if (totalReservedMemoryRecorder.Valid)
            sb.AppendLine($"Total Reserved Memory: {totalReservedMemoryRecorder.LastValue}");
        if (gcReservedMemoryRecorder.Valid)
            sb.AppendLine($"GC Reserved Memory: {gcReservedMemoryRecorder.LastValue}");
        if (systemUsedMemoryRecorder.Valid)
            sb.AppendLine($"System Used Memory: {systemUsedMemoryRecorder.LastValue}");
        statsText = sb.ToString();
    }

    void OnGUI()
    {
        GUI.TextArea(new Rect(10, 30, 250, 50), statsText);
    }
}
</code></pre>

<p>以下屏幕截图显示了将脚本添加到 <a href="https://assetstore.unity.com/packages/essentials/tutorial-projects/tanks-tutorial-46209">Tanks! 教程项目</a>的结果。</p>

<figure>
<img src="../uploads/Main/profiler-tanks-memory-overlay.png" alt="附带内存信息的 Tanks! 教程">
<figcaption>附带内存信息的 Tanks! 教程</figcaption>
</figure>

<p>This information is available in Release Players, as are the other high level counters in the table above. If you want to see the selected memory counters in a custom module in the Profiler window, use the <a href="profiler-module-editor.html">Module Editor</a> to configure the chart.</p>

<p><a name="detailed-view"></a></p>

<h3>Detailed 视图</h3>

<p>The Detailed view provides a snapshot of your application’s current state. Select the <strong>Take Sample</strong> button to capture detailed memory usage for the current target. It takes the Profiler time to get this data, so the Detailed view doesn’t give you real-time details. After the Profiler takes a sample, the Profiler window displays a list view where you can explore your application’s memory usage in more detail.</p>

<figure>
<img src="../uploads/Main/profiler-memory-detailed-view.png" alt="Memory 模块 Detailed 视图">
<figcaption>Memory 模块 Detailed 视图</figcaption>
</figure>

<p>Enable the <strong>Gather Object References</strong> setting at the top of the module details pane to collect information about what’s referencing an object at the time of the snapshot. The Profiler displays this information in the right-hand pane of the window.</p>

<p>列表视图将使用内存的对象将分为以下类别：</p>

<ul>
<li>
<strong>Other：</strong>资源、游戏对象或组件以外的对象。其中包括诸如 Unity 用于不同系统的内存之类的信息。</li>
<li>
<strong>Not Saved:</strong> Objects marked as <a href="../ScriptReference/HideFlags.html">DontSave</a>
</li>
<li>
<strong>Builtin Resources:</strong> Unity Editor resources or Unity default resources, such as Shaders you have added to the <a href="class-GraphicsSettings.html#Always">Always Included Shaders</a> list of the Graphics settings.</li>
<li>
<strong>Assets：</strong>从用户或原生代码引用的资源。</li>
<li>
<strong>Scene Memory:</strong> Objects and attached components.</li>
</ul>

<p>When you click on a GameObject in the Assets or Scene Memory list, Unity highlights it in the Project or Scene view.</p>

<p><strong>Note:</strong> In the Other category, memory reported under <code>System.ExecutableAndDlls</code> is read-only memory. The operating system might discard these pages as needed and later reload them from the file system. This generates lower memory usage, and doesn’t directly contribute to the operating system’s decision to close your application if it uses too much memory. Some of these pages might also be shared with other applications that are using the same frameworks.</p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="ProfilerGPU.html"></a></span><div class="tip">GPU Usage Profiler 模块</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="ProfilerPhysics.html"></a></span><div class="tip">Physics Profiler 模块</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">Copyright © 2022 Unity Technologies. Publication 2021.3</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
